<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <h3>Tic tac toe</h3>
    <p id="nguoi_choi"></p>
    <div id="tic_tac_toe"></div>
    <br />
    X:<input type="number" id="x" /> Y:<input type="number" id="y" />
    <button type="button" value="Đánh" onclick="danhTichTacToe()">Đánh</button>
    <script>
      const dauNguoiChoi1 = "o";
      const dauNguoiChoi2 = "x";
      let nguoiChoiArr = [1, 2];
      let nguoiChoi = nguoiChoiArr[Math.floor(Math.random() * 2)];
      let b = document.getElementById("tic_tac_toe");
      let p = document.getElementById("nguoi_choi");
      let board = [];
      let data = "";
      let sign = "";
      for (let i = 0; i < 3; i++) {
        board[i] = new Array(".", ".", ".", ".", ".");
      }
      for (let i = 0; i < 3; i++) {
        data += "<br/>";
        for (let j = 0; j < 3; j++) {
          data += board[i][j] + " ";
        }
      }
      b.innerHTML = data;
      p.innerHTML = `Đến lượt người chơi ${nguoiChoi}`;

      function danhTichTacToe() {
        let X = parseInt(document.getElementById("x").value);
        let Y = parseInt(document.getElementById("y").value);

        data = "";
        if (nguoiChoi == 1) {
          sign = dauNguoiChoi1;
          board[X - 1][Y - 1] = sign;
          nguoiChoi = 2;
        } else {
          sign = dauNguoiChoi2;
          board[X - 1][Y - 1] = sign;
          nguoiChoi = 1;
        }

        for (let i = 0; i < 3; i++) {
          data += "<br/>";
          for (let j = 0; j < 3; j++) {
            data += board[i][j] + "&nbsp;&nbsp;&nbsp;&nbsp;";
          }
        }
        b.innerHTML = "<hr/>" + data;
        p.innerHTML = `Đến lượt người chơi ${nguoiChoi}`;
        kiemTraThang();
      }
    </script>
  </body>
</html>
